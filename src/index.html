<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <meta name="description" content="A free, browser-based puzzle game." />
    <meta name="robots" content="index, follow" />

    <title>Beaming</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HXLD6EE5NS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-HXLD6EE5NS');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <dialog id="dialog">
      <header>
        <h1 class="flex-left">Beaming</h1>
        <form class="flex-right">
          <button autofocus formmethod="dialog">
            <span class="material-symbols-outlined" title="Close">close</span>
          </button>
        </form>
      </header>
      <p>
        <em>Beaming</em> is a free, open source, browser-based puzzle game that involves directing beams through a
        hexagonal grid. The rules and solution for each puzzle can be inferred by interaction and visual cues. Both
        desktop and mobile devices are supported.
      </p>
      <details>
        <summary>The Basics</summary>
        <p>
          The core gameplay involves selecting a hexagonal tile, which will bring up a toolbar at the bottom of the
          screen which contains <em>actions</em> that can be used to manipulate the items in the puzzle. The solution
          for each puzzle varies. The requirements for solving a puzzle will be displayed in the upper right corner
          of the screen.
        </p>
        <p>
          When looking at the toolbar, you will notice there are icons on the left and right-hand side. When I refer to
          <em>actions</em>, I am referring to the icons on the right-hand side. Actions can be used to manipulate the
          items inside a tile. The icons on the left-hand side are <em>attributes</em>. Attributes define behaviors
          which belong to a tile. They cannot be interacted with, they are strictly informational.
        </p>
        <p>
          There are two ways to interact with the <em>actions</em> on the left-hand side of the toolbar:
        </p>
        <ul>
          <li>
            Clicking on them (or tapping on touch-enabled devices). This will execute the action on the items in the
            currently selected tile.
          </li>
          <li>
            Clicking and holding on them (or touching and holding on touch-enabled devices). This will select the
            action, which allows it to be moved to another, valid tile. Different actions will have different
            requirements about which tiles they can be moved to.
          </li>
        </ul>
        <p>
          Some actions utilize a <em>mask</em> which covers invalid tiles (they will appear darkened). While a mask is
          active, the action can be cancelled by clicking or tapping outside the puzzle area or on the currently
          selected tile, which has a dashed-line border around it while the mask is active.
        </p>
      </details>
      <details>
        <summary>Attributes</summary>
        <p>
          As previously mentioned in <em>The Basics</em> above, <em>attributes</em> are the icons on the left-hand side
          of the toolbar at the bottom of the screen. Each attribute, which defines a specific behavior of a tile, are
          listed below:
        </p>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Immutable">block</span></summary>
          <p>
            Immutable: The tile, and the items within the tile, cannot be modified in any way. If there are any
            <em>actions</em> on the tile, they cannot be interacted with.
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Locked">lock</span></summary>
          <p>
            "Locked": The <em>actions</em> on the left-hand side of the toolbar can be used, but they cannot be
            selected, and therefore cannot be moved to other tiles. Locked tiles can still receive <em>actions</em>
            from other tiles, but they will become locked once moved onto a locked tile.
          </p>
        </details>
      </details>
      <details>
        <summary>Actions</summary>
        <p>
          As previously mentioned in <em>The Basics</em> above, <em>actions</em> are the icons on the right-hand side
          of the toolbar at the bottom of the screen. Each action, which applies specific behaviors to all valid items
          inside the currently selected tile, are listed below:
        </p>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Toggle">toggle_on</span></summary>
          <p>
            "Toggle": Any valid (toggleable) items in the tile will have their state toggled. For example, toggling a
            <em>terminus</em> item will turn beams on and off.
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Rotate">rotate_left</span></summary>
          <p>
            "Rotate": Any valid (rotatable) items in the tile will be rotated in the direction indicated by the icon
            (either clockwise or counter-clockwise).
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Move">drag_pan</span></summary>
          <p>
            "Move": Any valid (movable) items in the tile will be moved from the currently selected tile to a valid tile
            of your choice. This action utilizes a <em>mask</em> for selecting the valid tile.
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Swap">swap_horiz</span></summary>
          <p>
            "Swap": Any valid (movable) items in the currently selected tile will trade places with any valid (movable)
            items in a valid tile of your choice. This action utilizes a <em>mask</em> for selecting the valid tile.
          </p>
        </details>
      </details>
      <h3>Help</h3>
      <p>
        If you think you've found an issue, you can report it on the <a href="https://github.com/kflorence/beaming/issues">issue tracker</a>
        (requires a <a href="https://github.com/">GitHub</a> account). Note that the state of the currently active
        puzzle is stored in the URL (<code>.../#/[puzzle-id]/[encoded-state]</code>). You should include the full URL when
        reporting issues. You can of course also use this URL to share a specific state of a puzzle with others, just be
        aware not to spoil. If you're just trying to share a specific puzzle but not the state, just exclude the
        <code>.../[encoded-state]</code> at the end of the URL before sharing.
      </p>
      <h4>Troubleshooting</h4>
      <p>
        If you just want to get on with puzzle solving after encountering an issue, you can first try refreshing the page. If
        that doesn't work, you can try clearing the cache for the current puzzle by adding <code>?clearCache=[puzzle-id]</code>
        to the URL right before the hash sign (#) in the URL and pressing enter. Just be sure to remove it after the page
        has re-loaded, otherwise any changes you make to that puzzle will not be stored in the local browser cache. If
        for some reason you want to clear all cache, you can use <code>?clearCache</code> without the <code>=[puzzle-id]</code>.
      </p>
      <h3>Thanks!</h3>
      <p>
        This game was primarily inspired by
        <a href="https://en.wikipedia.org/wiki/The_Talos_Principle">The Talos Principle</a> and
        <a href="https://en.wikipedia.org/wiki/The_Witness_(2016_video_game)">The Witness</a>, two highly recommended
        puzzle games. Additionally, this game would not have been possible without <a href="http://paperjs.org/">Paper.js</a>.
      </p>
      <p>
        If you're enjoying the game, please consider sharing it with others. If you'd like to help support further
        development, please click on the <em>support me</em> link below.
      </p>
      <p class="emoji">&#128513;</p>
      <footer>
        <div class="flex-left">
          <ul>
            <li><a href="https://github.com/kflorence/beaming">source</a></li>
            <li><a href="https://buymeacoffee.com/kflorence">support me</a></li>
          </ul>
        </div>
        <div class="flex-right">
          <form><button formmethod="dialog">close</button></form>
        </div>
      </footer>
    </dialog>
    <header>
      <div class="flex-left">
        <ul class="menu">
          <li id="info"><span class="material-symbols-outlined" title="Information">info</span></li>
        </ul>
        <label id="selector"><select id="puzzle-id" name="id"><option value="">---</option></select></label>
      </div>
      <div class="flex-center">
        <ul id="actions" class="menu">
          <li id="previous"><span class="material-symbols-outlined" title="Previous Puzzle">navigate_before</span></li>
          <li id="undo"><span class="material-symbols-outlined" title="Undo">undo</span></li>
          <li id="reset"><span class="material-symbols-outlined" title="Reset">device_reset</span></li>
          <li id="redo"><span class="material-symbols-outlined" title="Redo">redo</span></li>
          <li id="next"><span class="material-symbols-outlined" title="Next Puzzle">navigate_next</span></li>
        </ul>
      </div>
      <div class="flex-right"><ul id="solution" class="menu non-interactive"></ul></div>
    </header>
    <main id="main">
      <div id="error" class="material-symbols-outlined" title="Error">error</div>
      <canvas id="puzzle">Your browser does not support the HTML5 canvas tag.</canvas>
    </main>
    <footer id="footer">
      <div class="flex-left">
        <ul id="modifiers-immutable" class="menu modifiers"></ul>
      </div>
      <div class="flex-center">
        <div id="message"></div>
      </div>
      <div class="flex-right">
        <ul id="modifiers-mutable" class="menu modifiers"></ul>
      </div>
    </footer>
  </body>
  <script type="module" src="index.js"></script>
</html>
