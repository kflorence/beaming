<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=no" />
    <meta name="description" content="A free, browser-based puzzle game that involves directing beams through a hexagonal grid." />
    <meta name="robots" content="index, follow" />

    <title>Beaming</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="images/favicon.png" />
  </head>
  <body>
    <dialog id="dialog">
      <header>
        <h1 class="flex-left">Beaming</h1>
        <form class="flex-right">
          <button autofocus formmethod="dialog">
            <span class="material-symbols-outlined" title="Close">close</span>
          </button>
        </form>
      </header>
      <div class="flex-center">
        <img alt="Beaming logo" id="logo" src="images/logo.svg" />
      </div>
      <p>
        <em>Beaming</em> is a free, open source, browser-based puzzle game that involves directing beams through a
        hexagonal grid. The rules and solution for each puzzle can be inferred by interaction and visual cues. Both
        desktop and mobile devices are supported.
      </p>
      <div class="buttons flex-center">
        <button class="button" id="feedback">Give Feedback</button>
        <a class="button" href="https://buymeacoffee.com/kflorence" id="support" target="_blank">Give Support</a>
      </div>
      <details>
        <summary>The Basics</summary>
        <p>
          The core gameplay involves selecting a hexagonal tile, which will bring up a toolbar at the bottom of the
          screen that contains <em>actions</em> that can be used to manipulate the items in the puzzle. The solution
          for each puzzle varies. The requirements for solving a puzzle will be displayed in the upper right corner
          of the screen.
        </p>
        <p>
          When looking at the toolbar, you will notice there are two sets of icons on the left and right sides. From
          here on I will refer to the set of icons on the left side as <em>attributes</em> and on the right side as
          <em>actions</em>. Attributes define behaviors which belong to a tile. They cannot be interacted with, they are
          strictly informational. Actions define behaviors which belong to the items inside a tile. A tile which
          contains at least one <em>action</em> or <em>attribute</em> will have a small, hexagonal indicator displayed
          towards the top of the tile.
        </p>
        <p>The <em>actions</em> on the right side of the toolbar can be interacted with in the following ways:</p>
        <ul>
          <li>
            By tapping on them. This will execute the action on the items in the currently selected tile.
          </li>
          <li>
            By pressing and holding them. This will select the action, if it is valid to do so, which allows it to be
            moved to another, valid tile. Different actions will have different requirements about which tiles they can
            be moved to.
          </li>
          <li>
            By swiping them (pressing and holding while moving the finger outside the action button). This will toggle
            the action, if it is valid to do so. This is currently only applicable to the Rotate action, in order to
            change the direction of rotation.
          </li>
        </ul>
        <p>
          Some actions utilize a <em>mask</em> which covers invalid tiles (they will appear darkened). While a mask is
          active, the action can be cancelled by clicking or tapping outside the puzzle area or on the currently
          selected tile.
        </p>
      </details>
      <details>
        <summary>Attributes</summary>
        <p>
          As previously mentioned in <em>The Basics</em> above, <em>attributes</em> are the icons on the left-hand side
          of the toolbar at the bottom of the screen. Click or tap on an icon below to learn more about it.
        </p>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Immutable">block</span> - Immutable</summary>
          <p>
            The tile, and the items within the tile, cannot be modified in any way. If there are any <em>actions</em>
            on the tile, they cannot be interacted with either.
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Locked">lock</span> - Locked</summary>
          <p>
            The <em>actions</em> on the right-hand side of the toolbar can be used, but they cannot be selected, and
            therefore cannot be moved to other tiles. Locked tiles can still receive <em>actions</em> from other tiles,
            but they will become locked once moved onto a locked tile.
          </p>
        </details>
      </details>
      <details>
        <summary>Actions</summary>
        <p>
          As previously mentioned in <em>The Basics</em> above, <em>actions</em> are the icons on the right-hand side
          of the toolbar at the bottom of the screen. Click or tap on an icon below to learn more about it.
        </p>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Toggle">toggle_on</span> - Toggle</summary>
          <p>
            Any valid (toggleable) items in the tile will have their state toggled. For example, toggling a
            <em>terminus</em> item will turn beams on and off.
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Rotate">rotate_left</span> - Rotate</summary>
          <p>
            Any valid (rotatable) items in the tile will be rotated in the direction indicated by the icon
            (either clockwise or counter-clockwise).
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Move">drag_pan</span> - Move</summary>
          <p>
            Any valid (movable) items in the tile will be moved from the currently selected tile to a valid tile
            of your choice. This action utilizes a <em>mask</em> for selecting the valid tile.
          </p>
        </details>
        <details>
          <summary><span class="fill material-symbols-outlined" title="Swap">swap_horiz</span> - Swap</summary>
          <p>
            Any valid (movable) items in the currently selected tile will trade places with any valid (movable)
            items in a valid tile of your choice. This action utilizes a <em>mask</em> for selecting the valid tile.
          </p>
        </details>
      </details>
      <details id="help">
        <summary>Help</summary>
        <h3>Feedback</h3>
        <p>
          If you have a suggestion or encounter any problem, please use the form below to report them. Email address is
          optional, but you can include it if you want to get a response back.
        </p>
        <section id="feedback-container"></section>
        <h4>Troubleshooting</h4>
        <p>
          You might be wondering what all that stuff in the URL is. Each URL parameter is separated by a forward slash
          (<code>/</code>). The parameter after the hash (<code>#</code>) symbol is the puzzle ID. The parameter after
          that is the state of the current puzzle, stored base64 encoded and compressed. Both of these parameters are
          optional and will be automatically updated when you load and interact with the game. In addition to storing
          state in the URL, which is useful when sharing the state of a puzzle with others, state is also stored locally
          in your browser's <code>localStorage</code> cache. If for some reason you need to clear cache for a puzzle, you
          can insert <code>?clearCache=[puzzle ID]</code> in the URL right after the opening forward slash. If you want
          to clear all cache, omit the <code>=[puzzle ID]</code>, or execute <code>localStorage.clear()</code> in your
          browser's console.
        </p>
      </details>
      <h3>Thanks!</h3>
      <p>
        This game was primarily inspired by
        <a href="https://en.wikipedia.org/wiki/The_Talos_Principle">The Talos Principle</a> and
        <a href="https://en.wikipedia.org/wiki/The_Witness_(2016_video_game)">The Witness</a>, two highly recommended
        puzzle games. Additionally, this game would not have been possible without the
        <a href="http://paperjs.org/">Paper.js</a> library.
      </p>
      <p>If you're enjoying the game, please consider sharing it with others!</p>
      <p class="emoji">&#128513;</p>
      <footer>
        <div class="flex-left">
          <ul>
            <li><a href="https://github.com/kflorence/beaming">source</a></li>
          </ul>
        </div>
        <div class="flex-right">
          <form><button class="button" formmethod="dialog">close</button></form>
        </div>
      </footer>
    </dialog>
    <header>
      <div id="header-navigation">
        <div class="flex-left">
          <ul class="menu">
            <li class="haptic" id="info"><span class="material-symbols-outlined" title="Information">info</span></li>
          </ul>
          <label id="selector">
            <select id="puzzle-id" name="id"><option value="">---</option></select>
            <svg height="10px" width="10px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/></svg>
          </label>
        </div>
        <div class="flex-center">
          <ul id="actions" class="menu">
            <li id="previous"><span class="material-symbols-outlined" title="Previous Puzzle">navigate_before</span></li>
            <li id="undo"><span class="material-symbols-outlined" title="Undo">undo</span></li>
            <li id="reset"><span class="material-symbols-outlined" title="Reset">device_reset</span></li>
            <li id="redo"><span class="material-symbols-outlined" title="Redo">redo</span></li>
            <li id="next"><span class="material-symbols-outlined" title="Next Puzzle">navigate_next</span></li>
          </ul>
        </div>
        <div class="flex-right"><ul id="solution" class="menu non-interactive"></ul></div>
      </div>
      <div id="header-message" class="message"></div>
    </header>
    <main id="main">
      <div id="error" class="material-symbols-outlined" title="Error">error</div>
      <canvas id="puzzle">Your browser does not support the HTML5 canvas tag.</canvas>
    </main>
    <footer id="footer">
      <div id="footer-message" class="message"></div>
      <ul id="modifiers" class="menu modifiers"></ul>
    </footer>
    <div id="symbols">
      <svg id="icon-immutable" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q54 0 104-17.5t92-50.5L228-676q-33 42-50.5 92T160-480q0 134 93 227t227 93Zm252-124q33-42 50.5-92T800-480q0-134-93-227t-227-93q-54 0-104 17.5T284-732l448 448Z"/></svg>
      <svg id="icon-lock" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm240-200q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80Z"/></svg>
      <svg id="icon-move" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M480-80 310-250l57-57 73 73v-206H235l73 72-58 58L80-480l169-169 57 57-72 72h206v-206l-73 73-57-57 170-170 170 170-57 57-73-73v206h205l-73-72 58-58 170 170-170 170-57-57 73-73H520v205l72-73 58 58L480-80Z"/></svg>
      <svg id="icon-rotate-left" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M440-80q-50-5-96-24.5T256-156l56-58q29 21 61.5 34t66.5 18v82Zm80 0v-82q104-15 172-93.5T760-438q0-117-81.5-198.5T480-718h-8l64 64-56 56-160-160 160-160 56 58-62 62h6q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-438q0 137-91 238.5T520-80ZM198-214q-32-42-51.5-88T122-398h82q5 34 18 66.5t34 61.5l-58 56Zm-76-264q6-51 25-98t51-86l58 56q-21 29-34 61.5T204-478h-82Z"/></svg>
      <svg id="icon-rotate-right" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M522-80v-82q34-5 66.5-18t61.5-34l56 58q-42 32-88 51.5T522-80Zm-80 0Q304-98 213-199.5T122-438q0-75 28.5-140.5t77-114q48.5-48.5 114-77T482-798h6l-62-62 56-58 160 160-160 160-56-56 64-64h-8q-117 0-198.5 81.5T202-438q0 104 68 182.5T442-162v82Zm322-134-58-56q21-29 34-61.5t18-66.5h82q-5 50-24.5 96T764-214Zm76-264h-82q-5-34-18-66.5T706-606l58-56q32 39 51 86t25 98Z"/></svg>
      <svg id="icon-swap" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M280-160 80-360l200-200 56 57-103 103h287v80H233l103 103-56 57Zm400-240-56-57 103-103H440v-80h287L624-743l56-57 200 200-200 200Z"/></svg>
      <svg id="icon-toggle-off" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M280-240q-100 0-170-70T40-480q0-100 70-170t170-70h400q100 0 170 70t70 170q0 100-70 170t-170 70H280Zm0-120q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"/></svg>
      <svg id="icon-toggle-on" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M280-240q-100 0-170-70T40-480q0-100 70-170t170-70h400q100 0 170 70t70 170q0 100-70 170t-170 70H280Zm400-120q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"/></svg>
    </div>
  </body>
  <script type="module" src="index.js"></script>
</html>
